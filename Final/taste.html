<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover Ghana's incredible cuisine - from jollof rice and fufu to kelewele and banku. Explore traditional dishes, cooking methods, and food culture.">
    <meta name="author" content="Your Name">
    <meta name="keywords" content="Ghanaian food, Ghana cuisine, African food, jollof rice, fufu, kelewele, traditional dishes">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Taste Ghana - Authentic Ghanaian Cuisine & Food Culture">
    <meta property="og:description" content="Explore Ghana's rich culinary heritage and delicious traditional dishes.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourusername.github.io/wdd231/final/taste.html">
    <meta property="og:image" content="images/ghanaian-food.jpg">
    
    <title>Taste Ghana - Authentic Cuisine & Food Culture</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="stylesheet" href="css/styles.css">
      <link rel="stylesheet" href="css/responsive.css">
    
    
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="./images/ghana-flag.png" alt="Ghana Flag" class="logo-icon">
                <span class="logo-text">Experience Ghana</span>
            </div>
            <nav class="main-nav">
                <button class="hamburger" id="hamburger" aria-label="Menu toggle">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
                <ul class="nav-menu" id="nav-menu">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="explore.html" class="nav-link">Explore</a></li>
                    <li><a href="taste.html" class="nav-link active">Taste</a></li>
                    <li><a href="travel-tips.html" class="nav-link">Travel Tips</a></li>
                    <li><a href="attributions.html" class="nav-link">Attributions</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="taste-hero">
            <div class="container">
                <div class="taste-hero-content">
                    <h1 class="taste-title">Taste Ghana</h1>
                    <p class="taste-subtitle">
                        Discover the rich flavors and culinary traditions that make Ghanaian cuisine 
                        one of West Africa's most celebrated food cultures.
                    </p>
                </div>
            </div>
        </section>

        <!-- Featured Dishes -->
        <section class="featured-dishes">
            <div class="container">
                <h2 class="section-title">Traditional Ghanaian Dishes</h2>
                <div class="dishes-grid" id="dishes-container">
                    <div class="loading-message">
                        <div class="loading-spinner"></div>
                        <h3>üçΩÔ∏è Loading Delicious Dishes...</h3>
                        <p>Please wait while we prepare Ghana's finest cuisine for you.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cooking Tips -->
        <section class="cooking-tips">
            <div class="container">
                <h2 class="section-title">Cooking Tips & Techniques</h2>
                <div class="tips-container">
                    <div class="tip-card">
                        <div class="tip-icon">üî•</div>
                        <h3 class="tip-title">Palm Oil Usage</h3>
                        <p class="tip-content">
                            Red palm oil is essential in Ghanaian cooking. Heat it gently to preserve 
                            its rich flavor and vibrant color. Never overheat as it can become bitter.
                        </p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">üå∂Ô∏è</div>
                        <h3 class="tip-title">Spice Balance</h3>
                        <p class="tip-content">
                            Ghanaian cuisine balances heat with flavor. Start with less spice and 
                            gradually add more. Ginger, garlic, and scotch bonnet peppers are key ingredients.
                        </p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">ü•Ñ</div>
                        <h3 class="tip-title">Fufu Technique</h3>
                        <p class="tip-content">
                            Traditional fufu requires rhythmic pounding. The key is alternating between 
                            pounding and folding until you achieve a smooth, stretchy consistency.
                        </p>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-icon">üç≤</div>
                        <h3 class="tip-title">Slow Cooking</h3>
                        <p class="tip-content">
                            Many Ghanaian stews benefit from slow cooking. This allows flavors to 
                            meld and develop depth. Don't rush the process for authentic taste.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Food Culture -->
        <section class="food-culture">
            <div class="container">
                <div class="culture-content">
                    <div class="culture-text">
                        <h2>Ghanaian Food Culture</h2>
                        <p>
                            Food in Ghana is more than sustenance‚Äîit's a celebration of community, 
                            family, and tradition. Meals are social events where stories are shared 
                            and bonds are strengthened.
                        </p>
                        <p>
                            Traditional eating customs include washing hands before meals, sharing 
                            from communal dishes, and showing respect to elders by serving them first.
                        </p>
                        <ul class="culture-highlights">
                            <li>Communal eating strengthens family bonds</li>
                            <li>Each region has unique specialties and flavors</li>
                            <li>Food plays a central role in ceremonies and celebrations</li>
                            <li>Traditional cooking methods are passed down through generations</li>
                            <li>Hospitality is expressed through generous food sharing</li>
                        </ul>
                    </div>
                    <div class="culture-image">
                        <img src="images/ghanaian-family-meal.jpg" alt="Ghanaian family sharing a traditional meal" loading="lazy" onerror="this.style.display='none';">
                    </div>
                </div>
            </div>
        </section>

        <!-- Recommended Restaurants -->
        <section class="restaurants-section">
            <div class="container">
                <h2 class="section-title">Where to Taste Authentic Ghanaian Food</h2>
                <div class="restaurants-grid">
                    <div class="restaurant-card">
                        <h3 class="restaurant-name">Auntie Muni's Kitchen</h3>
                        <p class="restaurant-location">üìç Osu, Accra</p>
                        <p class="restaurant-specialty">Famous for: Traditional fufu and palm nut soup</p>
                    </div>
                    
                    <div class="restaurant-card">
                        <h3 class="restaurant-name">Buka Restaurant</h3>
                        <p class="restaurant-location">üìç East Legon, Accra</p>
                        <p class="restaurant-specialty">Famous for: Jollof rice and grilled tilapia</p>
                    </div>
                    
                    <div class="restaurant-card">
                        <h3 class="restaurant-name">Kumasi Cultural Centre Eatery</h3>
                        <p class="restaurant-location">üìç Kumasi, Ashanti Region</p>
                        <p class="restaurant-specialty">Famous for: Authentic Ashanti cuisine</p>
                    </div>
                    
                    <div class="restaurant-card">
                        <h3 class="restaurant-name">Makola Market Food Court</h3>
                        <p class="restaurant-location">üìç Central Accra</p>
                        <p class="restaurant-specialty">Famous for: Street food and local specialties</p>
                    </div>
                    
                    <div class="restaurant-card">
                        <h3 class="restaurant-name">Santoku Restaurant</h3>
                        <p class="restaurant-location">üìç Tema, Greater Accra</p>
                        <p class="restaurant-specialty">Famous for: Modern Ghanaian fusion</p>
                    </div>
                    
                    <div class="restaurant-card">
                        <h3 class="restaurant-name">Chop Bar Central</h3>
                        <p class="restaurant-location">üìç Cape Coast</p>
                        <p class="restaurant-specialty">Famous for: Local chop bar experience</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for dish details -->
    <div id="dish-modal" class="modal" role="dialog" aria-labelledby="dish-modal-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="dish-modal-title">Dish Details</h2>
                <button class="close-modal" id="close-dish-modal" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body" id="dish-modal-body">
                <!-- Content will be dynamically inserted -->
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Experience Ghana</h3>
                    <p>Your gateway to discovering West Africa's cultural heart.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="explore.html">Destinations</a></li>
                        <li><a href="taste.html">Food & Culture</a></li>
                        <li><a href="travel-tips.html">Travel Tips</a></li>
                        <li><a href="attributions.html">Attributions</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="#" id="video-link">Project Video</a></li>
                        <li><a href="mailto:contact@experienceghana.com">Contact Us</a></li>
                        <li><a href="#" target="_blank">Ghana Tourism Authority</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Experience Ghana. Educational project for WDD 231.</p>
            </div>
        </div>
    </footer>

    <script type="module">
        // Taste page JavaScript - Updated to use external dishes module
        import { toggleMobileMenu, showModal, hideModal } from './js/modules/ui.js';
        import { saveUserPreference, getUserPreference } from './js/modules/storage.js';
        import { fetchDishes, searchDishes, filterDishesByCategory, getDishById } from './js/modules/dishes.js';

        // Global variable to store dishes data
        let ghanaianDishes = [];

        // Initialize page when DOM loads
        document.addEventListener('DOMContentLoaded', async () => {
            await initializeTastePage();
            setupEventListeners();
        });

        /**
         * Initialize the taste page
         * Demonstrates async/await with data fetching
         */
        async function initializeTastePage() {
            try {
                // Show loading state
                showLoadingState();
                
                // Fetch dishes data from external source
                ghanaianDishes = await fetchDishes();
                
                // Display dishes once data is loaded
                displayDishes(ghanaianDishes);
                
                // Track page visit
                trackPageVisit();
                
                console.log('Taste page initialized successfully');
            } catch (error) {
                console.error('Error initializing taste page:', error);
                
                // Show error message to user
                showErrorMessage('Failed to load dishes. Please refresh the page.');
            }
        }

        /**
         * Show loading state
         */
        function showLoadingState() {
            const container = document.getElementById('dishes-container');
            if (container) {
                container.innerHTML = `
                    <div class="loading-message">
                        <div class="loading-spinner"></div>
                        <h3>üçΩÔ∏è Loading Delicious Dishes...</h3>
                        <p>Please wait while we prepare Ghana's finest cuisine for you.</p>
                    </div>
                `;
            }
        }

        /**
         * Display dishes using array methods and template literals
         * Demonstrates DOM manipulation and data rendering
         */
        function displayDishes(dishes) {
            const container = document.getElementById('dishes-container');
            
            if (!container) {
                console.error('Dishes container not found');
                return;
            }

            if (!dishes || dishes.length === 0) {
                container.innerHTML = `
                    <div class="no-dishes-message">
                        <h3>No dishes available</h3>
                        <p>Please try again later or contact support.</p>
                    </div>
                `;
                return;
            }

            // Use template literals to create dish cards
            container.innerHTML = dishes.map(dish => `
                <div class="dish-card" data-dish-id="${dish.id}" role="button" tabindex="0">
                    <img src="${dish.image}" alt="${dish.name}" class="dish-image" loading="lazy"
                         onerror="this.src='images/placeholder-food.jpg';">
                    <div class="dish-content">
                        <h3 class="dish-name">${dish.name}</h3>
                        <div class="dish-type">${dish.type}</div>
                        <p class="dish-description">${dish.description}</p>
                        <div class="dish-details">
                            <span class="dish-origin">üìç ${dish.origin}</span>
                            <span class="dish-spice">üå∂Ô∏è ${dish.spiceLevel}</span>
                        </div>
                        <div class="ingredients-list">
                            <h4>Main Ingredients:</h4>
                            <div class="ingredients">
                                ${dish.ingredients.slice(0, 4).map(ingredient => 
                                    `<span class="ingredient-tag">${ingredient}</span>`
                                ).join('')}
                                ${dish.ingredients.length > 4 ? 
                                    `<span class="ingredient-tag">+${dish.ingredients.length - 4} more</span>` : 
                                    ''
                                }
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            // Add click event listeners to cards
            addDishCardListeners();
        }

        /**
         * Show error message to user
         * Demonstrates error handling and user feedback
         */
        function showErrorMessage(message) {
            const container = document.getElementById('dishes-container');
            if (container) {
                container.innerHTML = `
                    <div class="error-message">
                        <h3>‚ö†Ô∏è Error Loading Dishes</h3>
                        <p>${message}</p>
                        <button onclick="location.reload()">Reload Page</button>
                    </div>
                `;
            }
        }

        /**
         * Add event listeners to dish cards
         * Demonstrates event handling and DOM manipulation
         */
        function addDishCardListeners() {
            const dishCards = document.querySelectorAll('.dish-card');
            
            dishCards.forEach(card => {
                card.addEventListener('click', () => {
                    const dishId = parseInt(card.dataset.dishId);
                    showDishModal(dishId);
                });

                // Keyboard accessibility
                card.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        const dishId = parseInt(card.dataset.dishId);
                        showDishModal(dishId);
                    }
                });
            });
        }

        /**
         * Show dish modal with detailed information
         * Demonstrates usage of imported getDishById function
         */
        function showDishModal(dishId) {
            // Use imported function to get specific dish
            const dish = getDishById(ghanaianDishes, dishId);
            
            if (!dish) {
                console.error('Dish not found');
                alert('Sorry, dish details are not available.');
                return;
            }

            const modal = document.getElementById('dish-modal');
            const modalTitle = document.getElementById('dish-modal-title');
            const modalBody = document.getElementById('dish-modal-body');

            modalTitle.textContent = dish.name;
            
            // Create detailed modal content using template literals
            modalBody.innerHTML = `
                <div class="modal-dish-content">
                    <img src="${dish.image}" alt="${dish.name}" class="modal-image" loading="lazy"
                         onerror="this.src='images/placeholder-food.jpg';">
                    <div class="dish-full-details">
                        <div class="dish-meta">
                            <span class="dish-type-badge">${dish.type}</span>
                            <span class="origin-badge">üìç ${dish.origin}</span>
                            <span class="spice-badge">üå∂Ô∏è ${dish.spiceLevel}</span>
                        </div>
                        <p class="dish-full-description">${dish.description}</p>
                        
                        <div class="cooking-info">
                            <div class="info-item">
                                <strong>‚è±Ô∏è Cooking Time:</strong> ${dish.cookingTime}
                            </div>
                            <div class="info-item">
                                <strong>üë®‚Äçüç≥ Difficulty:</strong> ${dish.difficulty}
                            </div>
                            <div class="info-item">
                                <strong>üçΩÔ∏è Servings:</strong> ${dish.servings}
                            </div>
                            ${dish.prepTime ? `
                                <div class="info-item">
                                    <strong>‚è∞ Prep Time:</strong> ${dish.prepTime}
                                </div>
                            ` : ''}
                            ${dish.calories ? `
                                <div class="info-item">
                                    <strong>üî• Calories:</strong> ${dish.calories}
                                </div>
                            ` : ''}
                            ${dish.price ? `
                                <div class="info-item">
                                    <strong>üí∞ Price Range:</strong> ${dish.price}
                                </div>
                            ` : ''}
                        </div>

                        <div class="full-ingredients">
                            <h4>ü•ò Complete Ingredients List:</h4>
                            <div class="ingredients-grid">
                                ${dish.ingredients.map(ingredient => 
                                    `<span class="ingredient-item">${ingredient}</span>`
                                ).join('')}
                            </div>
                        </div>

                        <div class="modal-actions">
                            <button class="btn-primary" onclick="saveFavoriteDish(${dish.id})">
                                ‚ù§Ô∏è Save as Favorite
                            </button>
                        </div>
                    </div>
                </div>
            `;

            showModal(modal);
            
            // Track dish view
            saveDishView(dish);
        }

        /**
         * Setup event listeners
         * Demonstrates event handling
         */
        function setupEventListeners() {
            // Mobile menu toggle
            const hamburger = document.getElementById('hamburger');
            const navMenu = document.getElementById('nav-menu');
            
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', () => {
                    toggleMobileMenu(navMenu);
                });
            }

            // Modal close events
            const closeModal = document.getElementById('close-dish-modal');
            const modal = document.getElementById('dish-modal');
            
            if (closeModal && modal) {
                closeModal.addEventListener('click', () => hideModal(modal));
                
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        hideModal(modal);
                    }
                });
                
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && modal.style.display === 'block') {
                        hideModal(modal);
                    }
                });
            }
        }

        /**
         * Save favorite dish (global function for button)
         * Demonstrates localStorage usage with updated data structure
         */
        window.saveFavoriteDish = function(dishId) {
            const dish = getDishById(ghanaianDishes, dishId);
            if (dish) {
                const favorites = getUserPreference('favoriteDishes', []);
                
                // Check if already favorited using array methods
                if (!favorites.some(fav => fav.id === dishId)) {
                    favorites.push({
                        ...dish,
                        favoritedAt: new Date().toISOString()
                    });
                    
                    saveUserPreference('favoriteDishes', favorites);
                    alert(`${dish.name} added to your favorites! ‚ù§Ô∏è`);
                } else {
                    alert(`${dish.name} is already in your favorites!`);
                }
            }
        };

        /**
         * Track dish view
         * Demonstrates localStorage data tracking with updated data structure
         */
        function saveDishView(dish) {
            const viewedDishes = getUserPreference('viewedDishes', []);
            
            // Update or add dish view record using array methods
            const existingIndex = viewedDishes.findIndex(d => d.id === dish.id);
            const viewRecord = {
                ...dish,
                lastViewed: new Date().toISOString(),
                viewCount: existingIndex >= 0 ? viewedDishes[existingIndex].viewCount + 1 : 1
            };
            
            if (existingIndex >= 0) {
                viewedDishes[existingIndex] = viewRecord;
            } else {
                viewedDishes.push(viewRecord);
            }
            
            // Keep only last 20 viewed dishes using array methods
            if (viewedDishes.length > 20) {
                viewedDishes.sort((a, b) => new Date(b.lastViewed) - new Date(a.lastViewed));
                viewedDishes.splice(20);
            }
            
            saveUserPreference('viewedDishes', viewedDishes);
        }

        /**
         * Track page visit
         * Demonstrates analytics tracking with localStorage
         */
        function trackPageVisit() {
            const visitCount = getUserPreference('tastePageVisits', 0);
            saveUserPreference('tastePageVisits', visitCount + 1);
            saveUserPreference('lastTastePageVisit', new Date().toISOString());
            
            // Track user interests using object manipulation
            const interests = getUserPreference('userInterests', {});
            interests.ghanaianFood = (interests.ghanaianFood || 0) + 1;
            saveUserPreference('userInterests', interests);
        }

        /**
         * Search functionality (can be called externally)
         * Demonstrates usage of imported search function
         */
        window.searchDishes = function(searchTerm) {
            if (!ghanaianDishes.length) {
                console.warn('No dishes data loaded yet');
                return;
            }
            
            const filteredDishes = searchDishes(ghanaianDishes, searchTerm);
            displayDishes(filteredDishes);
            
            // Track search
            const searchHistory = getUserPreference('dishSearchHistory', []);
            searchHistory.unshift({
                term: searchTerm,
                timestamp: new Date().toISOString(),
                resultsCount: filteredDishes.length
            });
            
            // Keep only last 10 searches
            if (searchHistory.length > 10) {
                searchHistory.splice(10);
            }
            
            saveUserPreference('dishSearchHistory', searchHistory);
        };

        /**
         * Filter by category (can be called externally)
         * Demonstrates usage of imported filter function
         */
        window.filterByCategory = function(category) {
            if (!ghanaianDishes.length) {
                console.warn('No dishes data loaded yet');
                return;
            }
            
            const filteredDishes = filterDishesByCategory(ghanaianDishes, category);
            displayDishes(filteredDishes);
            
            // Track filter usage
            const filterUsage = getUserPreference('filterUsage', {});
            filterUsage[category] = (filterUsage[category] || 0) + 1;
            saveUserPreference('filterUsage', filterUsage);
        };

        /**
         * Reset to show all dishes
         * Demonstrates resetting filtered view
         */
        window.showAllDishes = function() {
            displayDishes(ghanaianDishes);
        };
    </script>
</body>
</html>